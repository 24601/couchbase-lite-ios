<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Couchbase Lite: CBLModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Couchbase Lite
   </div>
   <div id="projectbrief">Objective-C API for iOS and Mac OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interfaceCBLModel.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="classCBLModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CBLModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic model class for CouchbaseLite documents. </p>
<p>There's a 1::1 mapping between these and CBLDocuments; call +modelForDocument: to get (or create) a model object for a document, and .document to get the document of a model. You should subclass this and declare properties in the subclass's @interface. As with NSManagedObject, you don't need to implement their accessor methods or declare instance variables; simply note them as '@dynamic' in the class @implementation. The property value will automatically be fetched from or stored to the document, using the same name. Supported scalar types are bool, char, short, int, double. These map to JSON numbers, except 'bool' which maps to JSON 'true' and 'false'. (Use bool instead of BOOL.) Supported object types are NSString, NSNumber, NSData, NSDate, NSArray, NSDictionary, NSDecimalNumber. (NSData and NSDate are not native JSON; they will be automatically converted to/from strings in base64 and ISO date formats, respectively. NSDecimalNumber is not native JSON as well; it will be converted to/from string.) Additionally, a property's type can be a pointer to a <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> subclass. This provides references between model objects. The raw property value in the document must be a string whose value is interpreted as a document ID. NSArray-valued properties may be restricted to a specific item class. See the documentation of +itemClassForArrayProperty: for details. </p>
</div><div class="dynheader">
Inheritance diagram for CBLModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interfaceCBLModel.png" usemap="#CBLModel_map" alt=""/>
  <map id="CBLModel_map" name="CBLModel_map">
<area href="protocolCBLDocumentModel-p.html" title="Protocol that CBLDocument model objects must implement. " alt="&lt;CBLDocumentModel&gt;" shape="rect" coords="151,56,292,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a18cce248d5d5da51a8e12185a0f0faa0"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a18cce248d5d5da51a8e12185a0f0faa0">save:</a></td></tr>
<tr class="memdesc:a18cce248d5d5da51a8e12185a0f0faa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes any changes to a new revision of the document.  <a href="#a18cce248d5d5da51a8e12185a0f0faa0">More...</a><br /></td></tr>
<tr class="separator:a18cce248d5d5da51a8e12185a0f0faa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23f00f3eeda9fd4ad638fb2f608e570"><td class="memItemLeft" align="right" valign="top">(NSDictionary *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#af23f00f3eeda9fd4ad638fb2f608e570">propertiesToSave</a></td></tr>
<tr class="memdesc:af23f00f3eeda9fd4ad638fb2f608e570"><td class="mdescLeft">&#160;</td><td class="mdescRight">The document's current properties (including unsaved changes) in externalized JSON format.  <a href="#af23f00f3eeda9fd4ad638fb2f608e570">More...</a><br /></td></tr>
<tr class="separator:af23f00f3eeda9fd4ad638fb2f608e570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b1b14bdc59cab3bcf3861695c6f78c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a15b1b14bdc59cab3bcf3861695c6f78c">revertChanges</a></td></tr>
<tr class="memdesc:a15b1b14bdc59cab3bcf3861695c6f78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any changes made to properties and attachments since the last save.  <a href="#a15b1b14bdc59cab3bcf3861695c6f78c">More...</a><br /></td></tr>
<tr class="separator:a15b1b14bdc59cab3bcf3861695c6f78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54662b4ee1f06374a565cd73403db8bc"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a54662b4ee1f06374a565cd73403db8bc">deleteDocument:</a></td></tr>
<tr class="memdesc:a54662b4ee1f06374a565cd73403db8bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the document from the database.  <a href="#a54662b4ee1f06374a565cd73403db8bc">More...</a><br /></td></tr>
<tr class="separator:a54662b4ee1f06374a565cd73403db8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35e50f35de893c497eeeaddee9ccca6"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#af35e50f35de893c497eeeaddee9ccca6">markExternallyChanged</a></td></tr>
<tr class="memdesc:af35e50f35de893c497eeeaddee9ccca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the timeSinceExternallyChanged property to zero.  <a href="#af35e50f35de893c497eeeaddee9ccca6">More...</a><br /></td></tr>
<tr class="separator:af35e50f35de893c497eeeaddee9ccca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b5ab64829e56ab4eace9e86b2bb9c0"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a03b5ab64829e56ab4eace9e86b2bb9c0">getValueOfProperty:</a></td></tr>
<tr class="memdesc:a03b5ab64829e56ab4eace9e86b2bb9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a property by name.  <a href="#a03b5ab64829e56ab4eace9e86b2bb9c0">More...</a><br /></td></tr>
<tr class="separator:a03b5ab64829e56ab4eace9e86b2bb9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd1b5391fda5c20ca96b586d7fbd09d"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#accd1b5391fda5c20ca96b586d7fbd09d">setValue:ofProperty:</a></td></tr>
<tr class="memdesc:accd1b5391fda5c20ca96b586d7fbd09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a property by name.  <a href="#accd1b5391fda5c20ca96b586d7fbd09d">More...</a><br /></td></tr>
<tr class="separator:accd1b5391fda5c20ca96b586d7fbd09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091186388e559fd63ea9f42986853fa1"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLAttachment.html">CBLAttachment</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a091186388e559fd63ea9f42986853fa1">attachmentNamed:</a></td></tr>
<tr class="memdesc:a091186388e559fd63ea9f42986853fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up the attachment with the given name (without fetching its contents).  <a href="#a091186388e559fd63ea9f42986853fa1">More...</a><br /></td></tr>
<tr class="separator:a091186388e559fd63ea9f42986853fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cddb54252ee90d58bf5a7c0869db00"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#ab1cddb54252ee90d58bf5a7c0869db00">setAttachmentNamed:withContentType:content:</a></td></tr>
<tr class="memdesc:ab1cddb54252ee90d58bf5a7c0869db00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates, updates or deletes an attachment.  <a href="#ab1cddb54252ee90d58bf5a7c0869db00">More...</a><br /></td></tr>
<tr class="separator:ab1cddb54252ee90d58bf5a7c0869db00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd7fc552ab4e5e1cbb135551b8787c5"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a7bd7fc552ab4e5e1cbb135551b8787c5">setAttachmentNamed:withContentType:contentURL:</a></td></tr>
<tr class="memdesc:a7bd7fc552ab4e5e1cbb135551b8787c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates, updates or deletes an attachment whose body comes from a file.  <a href="#a7bd7fc552ab4e5e1cbb135551b8787c5">More...</a><br /></td></tr>
<tr class="separator:a7bd7fc552ab4e5e1cbb135551b8787c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5eefbe5839bd237aa38e371ca48703"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#aba5eefbe5839bd237aa38e371ca48703">removeAttachmentNamed:</a></td></tr>
<tr class="memdesc:aba5eefbe5839bd237aa38e371ca48703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes (in memory) any existing attachment with the given name.  <a href="#aba5eefbe5839bd237aa38e371ca48703">More...</a><br /></td></tr>
<tr class="separator:aba5eefbe5839bd237aa38e371ca48703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb6329f328c785c81353aaa9e2f52a9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a6cb6329f328c785c81353aaa9e2f52a9">awakeFromInitializer</a></td></tr>
<tr class="separator:a6cb6329f328c785c81353aaa9e2f52a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76c753c91a3c9d0955ecd6527269ba5"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#ae76c753c91a3c9d0955ecd6527269ba5">idForNewDocumentInDatabase:</a></td></tr>
<tr class="memdesc:ae76c753c91a3c9d0955ecd6527269ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The document ID to use when creating a new document.  <a href="#ae76c753c91a3c9d0955ecd6527269ba5">More...</a><br /></td></tr>
<tr class="separator:ae76c753c91a3c9d0955ecd6527269ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f08eaa3d07b894a4dde5b2ab5b23da"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a06f08eaa3d07b894a4dde5b2ab5b23da">didLoadFromDocument</a></td></tr>
<tr class="memdesc:a06f08eaa3d07b894a4dde5b2ab5b23da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the model's properties are reloaded from the document.  <a href="#a06f08eaa3d07b894a4dde5b2ab5b23da">More...</a><br /></td></tr>
<tr class="separator:a06f08eaa3d07b894a4dde5b2ab5b23da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0c18f013184338d6768aa7d120d914"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#aba0c18f013184338d6768aa7d120d914">databaseForModelProperty:</a></td></tr>
<tr class="memdesc:aba0c18f013184338d6768aa7d120d914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database in which to look up the document ID of a model-valued property.  <a href="#aba0c18f013184338d6768aa7d120d914">More...</a><br /></td></tr>
<tr class="separator:aba0c18f013184338d6768aa7d120d914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d23afc60a86270573501a7402ff44b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#a70d23afc60a86270573501a7402ff44b">markNeedsSave</a></td></tr>
<tr class="memdesc:a70d23afc60a86270573501a7402ff44b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the model as having unsaved content, ensuring that it will get saved after a short interval (if .autosaves is YES) or when -save or -[<a class="el" href="interfaceCBLDatabase.html" title="A CouchbaseLite database. ">CBLDatabase</a> saveAllModels] are called.  <a href="#a70d23afc60a86270573501a7402ff44b">More...</a><br /></td></tr>
<tr class="separator:a70d23afc60a86270573501a7402ff44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35437cc540c46df7a806113c46e035b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#ad35437cc540c46df7a806113c46e035b">willSave:</a></td></tr>
<tr class="memdesc:ad35437cc540c46df7a806113c46e035b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called while saving a document, before building the new revision's dictionary.  <a href="#ad35437cc540c46df7a806113c46e035b">More...</a><br /></td></tr>
<tr class="separator:ad35437cc540c46df7a806113c46e035b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d14e089ff2e833190360b777909c8a"><td class="memItemLeft" align="right" valign="top">(NSDictionary *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLModel.html#af5d14e089ff2e833190360b777909c8a">propertiesToSaveForDeletion</a></td></tr>
<tr class="memdesc:af5d14e089ff2e833190360b777909c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you want properties to be saved in the document when it's deleted (in addition to the required "_deleted":true) override this method to return those properties.  <a href="#af5d14e089ff2e833190360b777909c8a">More...</a><br /></td></tr>
<tr class="separator:af5d14e089ff2e833190360b777909c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_protocolCBLDocumentModel-p"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_protocolCBLDocumentModel-p')"><img src="closed.png" alt="-"/>&#160;Instance Methods inherited from <a class="el" href="protocolCBLDocumentModel-p.html">&lt;CBLDocumentModel&gt;</a></td></tr>
<tr class="memitem:ab6d990d3c3b3defed8b8fa2b8fe3f326 inherit pub_methods_protocolCBLDocumentModel-p"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolCBLDocumentModel-p.html#ab6d990d3c3b3defed8b8fa2b8fe3f326">document:didChange:</a></td></tr>
<tr class="memdesc:ab6d990d3c3b3defed8b8fa2b8fe3f326 inherit pub_methods_protocolCBLDocumentModel-p"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called whenever a new revision is added to the document.  <a href="#ab6d990d3c3b3defed8b8fa2b8fe3f326">More...</a><br /></td></tr>
<tr class="separator:ab6d990d3c3b3defed8b8fa2b8fe3f326 inherit pub_methods_protocolCBLDocumentModel-p"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a7278b6b8fc021ce521b4acaee2ec7c8f"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfaceCBLModel.html#a7278b6b8fc021ce521b4acaee2ec7c8f">modelForDocument:</a></td></tr>
<tr class="memdesc:a7278b6b8fc021ce521b4acaee2ec7c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> associated with a <a class="el" href="interfaceCBLDocument.html" title="A CouchbaseLite document (as opposed to any specific revision of it.) ">CBLDocument</a>, or creates &amp; assigns one if necessary.  <a href="#a7278b6b8fc021ce521b4acaee2ec7c8f">More...</a><br /></td></tr>
<tr class="separator:a7278b6b8fc021ce521b4acaee2ec7c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9756f19fe67ad8a156ca4ef55b4c06c"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfaceCBLModel.html#ae9756f19fe67ad8a156ca4ef55b4c06c">modelForNewDocumentInDatabase:</a></td></tr>
<tr class="memdesc:ae9756f19fe67ad8a156ca4ef55b4c06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new "untitled" <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> with a new unsaved document.  <a href="#ae9756f19fe67ad8a156ca4ef55b4c06c">More...</a><br /></td></tr>
<tr class="separator:ae9756f19fe67ad8a156ca4ef55b4c06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae092155f049af11af5d553ac12b6aee3"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfaceCBLModel.html#ae092155f049af11af5d553ac12b6aee3">saveModels:error:</a></td></tr>
<tr class="memdesc:ae092155f049af11af5d553ac12b6aee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bulk-saves changes to multiple model objects (which must all be in the same database).  <a href="#ae092155f049af11af5d553ac12b6aee3">More...</a><br /></td></tr>
<tr class="separator:ae092155f049af11af5d553ac12b6aee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6cd38c150b76aa7aaaaa3747193f237"><td class="memItemLeft" align="right" valign="top">(Class)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfaceCBLModel.html#ae6cd38c150b76aa7aaaaa3747193f237">itemClassForArrayProperty:</a></td></tr>
<tr class="memdesc:ae6cd38c150b76aa7aaaaa3747193f237"><td class="mdescLeft">&#160;</td><td class="mdescRight">General method for declaring the class of items in a property of type NSArray*.  <a href="#ae6cd38c150b76aa7aaaaa3747193f237">More...</a><br /></td></tr>
<tr class="separator:ae6cd38c150b76aa7aaaaa3747193f237"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ac2bed1bf2976d2c156d3dc0c54c02650"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceCBLDocument.html">CBLDocument</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#ac2bed1bf2976d2c156d3dc0c54c02650">document</a></td></tr>
<tr class="memdesc:ac2bed1bf2976d2c156d3dc0c54c02650"><td class="mdescLeft">&#160;</td><td class="mdescRight">The document this item is associated with.  <a href="#ac2bed1bf2976d2c156d3dc0c54c02650">More...</a><br /></td></tr>
<tr class="separator:ac2bed1bf2976d2c156d3dc0c54c02650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62965efbba85ae78acdef42db75a08f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#a62965efbba85ae78acdef42db75a08f3">database</a></td></tr>
<tr class="memdesc:a62965efbba85ae78acdef42db75a08f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The database the item's document belongs to.  <a href="#a62965efbba85ae78acdef42db75a08f3">More...</a><br /></td></tr>
<tr class="separator:a62965efbba85ae78acdef42db75a08f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569f28df599e6ac07b9aebdd0fc96696"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#a569f28df599e6ac07b9aebdd0fc96696">isNew</a></td></tr>
<tr class="memdesc:a569f28df599e6ac07b9aebdd0fc96696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this model new, never before saved?  <a href="#a569f28df599e6ac07b9aebdd0fc96696">More...</a><br /></td></tr>
<tr class="separator:a569f28df599e6ac07b9aebdd0fc96696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4b85bb777ee43bd17615b387046cb9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#aaf4b85bb777ee43bd17615b387046cb9">autosaves</a></td></tr>
<tr class="memdesc:aaf4b85bb777ee43bd17615b387046cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should changes be saved back to the database automatically? Defaults to NO, requiring you to call -save manually.  <a href="#aaf4b85bb777ee43bd17615b387046cb9">More...</a><br /></td></tr>
<tr class="separator:aaf4b85bb777ee43bd17615b387046cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3806bf33283b921f530a4c5f75e957a"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#ac3806bf33283b921f530a4c5f75e957a">autosaveDelay</a></td></tr>
<tr class="memdesc:ac3806bf33283b921f530a4c5f75e957a"><td class="mdescLeft">&#160;</td><td class="mdescRight">How long to wait after the first change before auto-saving, if autosaves is true.  <a href="#ac3806bf33283b921f530a4c5f75e957a">More...</a><br /></td></tr>
<tr class="separator:ac3806bf33283b921f530a4c5f75e957a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313193094d8374a10fec7f18aa6b5384"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#a313193094d8374a10fec7f18aa6b5384">needsSave</a></td></tr>
<tr class="memdesc:a313193094d8374a10fec7f18aa6b5384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this model have unsaved changes?  <a href="#a313193094d8374a10fec7f18aa6b5384">More...</a><br /></td></tr>
<tr class="separator:a313193094d8374a10fec7f18aa6b5384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500a89994f33b0042584da078aaeac8f"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#a500a89994f33b0042584da078aaeac8f">timeSinceExternallyChanged</a></td></tr>
<tr class="memdesc:a500a89994f33b0042584da078aaeac8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time interval since the document was last changed externally (e.g.  <a href="#a500a89994f33b0042584da078aaeac8f">More...</a><br /></td></tr>
<tr class="separator:a500a89994f33b0042584da078aaeac8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01c3dfaba339ca1a2657f413c20c402"><td class="memItemLeft" align="right" valign="top">NSArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#ad01c3dfaba339ca1a2657f413c20c402">attachmentNames</a></td></tr>
<tr class="memdesc:ad01c3dfaba339ca1a2657f413c20c402"><td class="mdescLeft">&#160;</td><td class="mdescRight">The names of all attachments (array of strings).  <a href="#ad01c3dfaba339ca1a2657f413c20c402">More...</a><br /></td></tr>
<tr class="separator:ad01c3dfaba339ca1a2657f413c20c402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5aebae7405c235dbcbd03345c39f783"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLModel.html#ad5aebae7405c235dbcbd03345c39f783">type</a></td></tr>
<tr class="memdesc:ad5aebae7405c235dbcbd03345c39f783"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of document.  <a href="#ad5aebae7405c235dbcbd03345c39f783">More...</a><br /></td></tr>
<tr class="separator:ad5aebae7405c235dbcbd03345c39f783"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a7278b6b8fc021ce521b4acaee2ec7c8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) modelForDocument: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interfaceCBLDocument.html">CBLDocument</a> *)&#160;</td>
          <td class="paramname"><em>document</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> associated with a <a class="el" href="interfaceCBLDocument.html" title="A CouchbaseLite document (as opposed to any specific revision of it.) ">CBLDocument</a>, or creates &amp; assigns one if necessary. </p>
<p>If the <a class="el" href="interfaceCBLDocument.html" title="A CouchbaseLite document (as opposed to any specific revision of it.) ">CBLDocument</a> already has an associated model, it's returned. Otherwise a new one is instantiated. If you call this on <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> itself, it'll delegate to the <a class="el" href="interfaceCBLModelFactory.html" title="A configurable mapping from CBLDocument to CBLModel. ">CBLModelFactory</a> to decide what class to instantiate; this lets you map different classes to different "type" property values, for instance. If you call this method on a <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> subclass, it will always instantiate an instance of that class; e.g. [MyWidgetModel modelForDocument: doc] always creates a MyWidgetModel. </p>

</div>
</div>
<a class="anchor" id="ae9756f19fe67ad8a156ca4ef55b4c06c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) modelForNewDocumentInDatabase: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td>
          <td class="paramname"><em>database</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a new "untitled" <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> with a new unsaved document. </p>
<p>The document won't be written to the database until -save is called. </p>

</div>
</div>
<a class="anchor" id="a18cce248d5d5da51a8e12185a0f0faa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) save: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes any changes to a new revision of the document. </p>
<p>Returns YES without doing anything, if no changes have been made. </p>

</div>
</div>
<a class="anchor" id="af23f00f3eeda9fd4ad638fb2f608e570"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) propertiesToSave </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The document's current properties (including unsaved changes) in externalized JSON format. </p>
<p>This is what will be written to the <a class="el" href="interfaceCBLDocument.html" title="A CouchbaseLite document (as opposed to any specific revision of it.) ">CBLDocument</a> when the model is saved. </p>

</div>
</div>
<a class="anchor" id="a15b1b14bdc59cab3bcf3861695c6f78c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) revertChanges </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any changes made to properties and attachments since the last save. </p>

</div>
</div>
<a class="anchor" id="a54662b4ee1f06374a565cd73403db8bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) deleteDocument: </td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the document from the database. </p>
<p>You can still use the model object afterwards, but it will refer to the deleted revision. </p>

</div>
</div>
<a class="anchor" id="ae092155f049af11af5d553ac12b6aee3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) saveModels: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>models</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bulk-saves changes to multiple model objects (which must all be in the same database). </p>
<p>The saves are performed in one transaction, for efficiency. Any unchanged models in the array are ignored. See also: -[<a class="el" href="interfaceCBLDatabase.html" title="A CouchbaseLite database. ">CBLDatabase</a> saveAllModels:]. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">models</td><td>An array of <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> objects, which must all be in the same database. </td></tr>
    <tr><td class="paramname">outError</td><td>On return, the error (if the call failed.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A RESTOperation that saves all changes, or nil if none of the models need saving. </dd></dl>

</div>
</div>
<a class="anchor" id="af35e50f35de893c497eeeaddee9ccca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) markExternallyChanged </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the timeSinceExternallyChanged property to zero. </p>

</div>
</div>
<a class="anchor" id="a03b5ab64829e56ab4eace9e86b2bb9c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) getValueOfProperty: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>property</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a property by name. </p>
<p>You can use this for document properties that you haven't added @property declarations for. </p>

</div>
</div>
<a class="anchor" id="accd1b5391fda5c20ca96b586d7fbd09d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) setValue: </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>value</em></td>
        </tr>
        <tr>
          <td class="paramkey">ofProperty:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>property</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a property by name. </p>
<p>You can use this for document properties that you haven't added @property declarations for. </p>

</div>
</div>
<a class="anchor" id="a091186388e559fd63ea9f42986853fa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLAttachment.html">CBLAttachment</a>*) attachmentNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up the attachment with the given name (without fetching its contents). </p>

</div>
</div>
<a class="anchor" id="ab1cddb54252ee90d58bf5a7c0869db00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setAttachmentNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">withContentType:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>mimeType</em></td>
        </tr>
        <tr>
          <td class="paramkey">content:</td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>content</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates, updates or deletes an attachment. </p>
<p>The attachment data will be written to the database when the model is saved. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The attachment name. By convention, this looks like a filename. </td></tr>
    <tr><td class="paramname">mimeType</td><td>The MIME type of the content. </td></tr>
    <tr><td class="paramname">content</td><td>The body of the attachment. If this is nil, any existing attachment with this name will be deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7bd7fc552ab4e5e1cbb135551b8787c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setAttachmentNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">withContentType:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>mimeType</em></td>
        </tr>
        <tr>
          <td class="paramkey">contentURL:</td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>fileURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates, updates or deletes an attachment whose body comes from a file. </p>
<p>(The method takes a URL, but it must be a "file:" URL. Remote resources are not supported.) The file need only be readable. It won't be moved or altered in any way. The attachment data will be copied from the file into the database when the model is saved. The file needs to be preserved until then, but afterwards it can safely be deleted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The attachment name. By convention, this looks like a filename. </td></tr>
    <tr><td class="paramname">mimeType</td><td>The MIME type of the content. </td></tr>
    <tr><td class="paramname">fileURL</td><td>The URL of a local file whose contents should be copied into the attachment. If this is nil, any existing attachment with this name will be deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aba5eefbe5839bd237aa38e371ca48703"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeAttachmentNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes (in memory) any existing attachment with the given name. </p>
<p>The attachment will be deleted from the database at the same time as property changes are saved. </p>

</div>
</div>
<a class="anchor" id="a6cb6329f328c785c81353aaa9e2f52a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) awakeFromInitializer </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae76c753c91a3c9d0955ecd6527269ba5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) idForNewDocumentInDatabase: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td>
          <td class="paramname"><em>db</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The document ID to use when creating a new document. </p>
<p>Default is nil, which means to assign no ID (the server will assign one). </p>

</div>
</div>
<a class="anchor" id="a06f08eaa3d07b894a4dde5b2ab5b23da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) didLoadFromDocument </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the model's properties are reloaded from the document. </p>
<p>This happens both when initialized from a document, and after an external change. </p>

</div>
</div>
<a class="anchor" id="aba0c18f013184338d6768aa7d120d914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a>*) databaseForModelProperty: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>propertyName</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the database in which to look up the document ID of a model-valued property. </p>
<p>Defaults to the same database as the receiver's document. You should override this if a document property contains the ID of a document in a different database. </p>

</div>
</div>
<a class="anchor" id="a70d23afc60a86270573501a7402ff44b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) markNeedsSave </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the model as having unsaved content, ensuring that it will get saved after a short interval (if .autosaves is YES) or when -save or -[<a class="el" href="interfaceCBLDatabase.html" title="A CouchbaseLite database. ">CBLDatabase</a> saveAllModels] are called. </p>
<p>You don't normally need to call this, since property setters call it for you. One case where you'd need to call it is if you want to manage mutable state in your own properties and not store the changes into dynamic properties until it's time to save. In that case you should also override -propertiesToSave and update the dynamic properties accordingly before chaining to the superclass method. </p>

</div>
</div>
<a class="anchor" id="ad35437cc540c46df7a806113c46e035b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) willSave: </td>
          <td></td>
          <td class="paramtype">(NSSet *)&#160;</td>
          <td class="paramname"><em>changedPropertyNames</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called while saving a document, before building the new revision's dictionary. </p>
<p>This method can modify property values if it wants to. </p>

</div>
</div>
<a class="anchor" id="af5d14e089ff2e833190360b777909c8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) propertiesToSaveForDeletion </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you want properties to be saved in the document when it's deleted (in addition to the required "_deleted":true) override this method to return those properties. </p>
<p>This is called by -deleteDocument:. The default implementation returns {"_deleted":true}. </p>

</div>
</div>
<a class="anchor" id="ae6cd38c150b76aa7aaaaa3747193f237"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (Class) itemClassForArrayProperty: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>property</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General method for declaring the class of items in a property of type NSArray*. </p>
<p>Given the property name, the override should return a class that all items must inherit from, or nil if the property is untyped. Supported classes are <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> (or any subclass), NSData, NSDate, NSDecimalNumber, and any JSON-compatible class (NSNumber, NSString, etc.) If you don't recognize the property name you should call the superclass method.</p>
<p>The default implementation of this method checks for the existence of a class method with selector of the form +propertyItemClass where 'property' is replaced by the actual property name. If such a method exists it is called, and must return a class.</p>
<p>In general you'll find it easier to implement the '+propertyItemClass' method(s) rather than overriding this one. </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="ac2bed1bf2976d2c156d3dc0c54c02650"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDocument.html">CBLDocument</a>*) document</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">retain</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The document this item is associated with. </p>
<p>Will be nil if it's new and unsaved. </p>

</div>
</div>
<a class="anchor" id="a62965efbba85ae78acdef42db75a08f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a>*) database</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">retain</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The database the item's document belongs to. </p>
<p>Setting this property will assign the item to a database, creating a document. Setting it to nil will delete its document from its database. </p>

</div>
</div>
<a class="anchor" id="a569f28df599e6ac07b9aebdd0fc96696"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (bool) isNew</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this model new, never before saved? </p>

</div>
</div>
<a class="anchor" id="aaf4b85bb777ee43bd17615b387046cb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (bool) autosaves</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should changes be saved back to the database automatically? Defaults to NO, requiring you to call -save manually. </p>

</div>
</div>
<a class="anchor" id="ac3806bf33283b921f530a4c5f75e957a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) autosaveDelay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How long to wait after the first change before auto-saving, if autosaves is true. </p>
<p>Default value is 0.0; subclasses can override this to add a delay. </p>

</div>
</div>
<a class="anchor" id="a313193094d8374a10fec7f18aa6b5384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (bool) needsSave</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this model have unsaved changes? </p>

</div>
</div>
<a class="anchor" id="a500a89994f33b0042584da078aaeac8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) timeSinceExternallyChanged</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time interval since the document was last changed externally (e.g. </p>
<p>by a "pull" replication. This value can be used to highlight recently-changed objects in the UI. </p>

</div>
</div>
<a class="anchor" id="ad01c3dfaba339ca1a2657f413c20c402"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) attachmentNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The names of all attachments (array of strings). </p>
<p>This reflects unsaved changes made by creating or deleting attachments. </p>

</div>
</div>
<a class="anchor" id="ad5aebae7405c235dbcbd03345c39f783"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type of document. </p>
<p>This is optional, but is commonly used in document databases to distinguish different types of documents. <a class="el" href="interfaceCBLModelFactory.html" title="A configurable mapping from CBLDocument to CBLModel. ">CBLModelFactory</a> can use this property to determine what <a class="el" href="interfaceCBLModel.html" title="Generic model class for CouchbaseLite documents. ">CBLModel</a> subclass to instantiate for a document. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CBLModel_8h_source.html">CBLModel.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interfaceCBLModel.html">CBLModel</a></li>
    <li class="footer">Generated on Tue Jan 6 2015 14:10:08 for Couchbase Lite by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
